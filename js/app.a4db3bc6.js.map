{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5c2b","webpack:///./src/components/common/CommonButton.vue?bc6a","webpack:///./src/App.vue","webpack:///./src/components/TheProcessor.vue","webpack:///./src/components/common/CommonButton.vue","webpack:///./src/components/common/CommonButton.vue?8b6e","webpack:///./src/components/codeEditor/CodeEditor.vue","webpack:///./src/scripts/Instruction.js","webpack:///./src/scripts/Compiler.js","webpack:///./src/components/codeEditor/CodeEditor.vue?6818","webpack:///./src/components/TabsContainer.vue","webpack:///./src/components/memory/RamOnlyMemory.vue","webpack:///./src/components/model/ProcessorModel.vue","webpack:///./src/components/model/ProcessorModel.vue?60cc","webpack:///./src/components/model/RamModel.vue","webpack:///./src/components/model/RamModel.vue?d2a2","webpack:///./src/components/memory/RamOnlyMemory.vue?de38","webpack:///./src/components/memory/DirectCacheMemory.vue","webpack:///./src/components/model/CacheModel.vue","webpack:///./src/components/model/CacheModel.vue?c336","webpack:///./src/scripts/MemoryUtils.js","webpack:///./src/components/memory/DirectCacheMemory.vue?1087","webpack:///./src/components/memory/TwoWayCacheMemory.vue","webpack:///./src/components/memory/TwoWayCacheMemory.vue?c8da","webpack:///./src/components/memory/FullCacheMemory.vue","webpack:///./src/components/memory/FullCacheMemory.vue?b960","webpack:///./src/components/TabsContainer.vue?fd75","webpack:///./src/scripts/ExecutionResult.js","webpack:///./src/scripts/Cpu.js","webpack:///./src/components/TheProcessor.vue?348d","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/model/RamModel.vue?8260","webpack:///./src/components/model/CacheModel.vue?1eef","webpack:///./src/components/codeEditor/CodeEditor.vue?6700","webpack:///./src/components/model/ProcessorModel.vue?984a","webpack:///./src/components/TheProcessor.vue?d07e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","style","class","commonButtons","button","displayValue","display","function","disabled","RegisterCompiler","RegisterMemory","instruction","Click","props","type","String","required","Function","Boolean","default","methods","this","__exports__","code","highlight","HighlightCode","line-numbers","Instruction","instructionNumber","startCompilation","instructionList","codeList","split","processInstruction","toUpperCase","HALT","processParameterlessInstruction","NEGATE","ACCDEC","ACCINC","NOP","OUTP","processAddressInstrution","INP","MLOAD","processValueInstruction","DLOAD","ILOAD","DSTORE","ISTORE","BRANCH","processLabelInstruction","BRZERO","BRPOS","BRNEG","MADD","IJUMP","LABEL","Error","parameter","isAddress","parseInt","substring","address","isNumber","isKeyword","label","str","startsWith","keys","forEach","test","components","PrismEditor","emits","labelDict","created","$emit","compile","CompileProgram","getInstruction","GetInstruction","getLabel","GetLabel","languages","bp22","e","console","error","log","RangeError","ChangeCurrentTab","currentTab","currentInstruction","ramData","toString","Array","ProcessorModel","RamModel","Reset","write","Write","read","Read","flush","reset","cacheData","valid","tag","ReadRam","GetRamAddressFromCache","offset","UpdateCache","CacheModel","Flush","cacheAddress","cacheTag","ramAddress","id","Math","random","floor","CommonButton","RamOnlyMemory","DirectCacheMemory","TwoWayCacheMemory","FullCacheMemory","tab","memory","ExecutionResult","Cpu","acc","_executeHalt","_executeNegate","_executeAccdec","_executeAccinc","_executeNop","_executeOutp","_executeInp","_executeMload","_executeDload","_executeIload","_executeDstore","_executeIstore","_executeBranch","_executeBrzero","_executeBrpos","_executeBrneg","_executeMadd","_executeIjump","_executeLabel","_endExecution","HaltExecution","NextInstruction","valueAddress","MoveToLabel","ip","MoveToAddress","EndExecution","s_notStarted","s_started","s_halted","s_ended","CodeEditor","TabsContainer","StartProgram","StopProgram","PauseProgram","ExecuteInstruction","compiler","cpu","currentState","instructionPointer","accumulator","ChangeSimulationState","Sleep","execute","state","ResetState","ms","Promise","resolve","setTimeout","TheProcessor","render","createApp","App","mount"],"mappings":"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","file":"js/app.a4db3bc6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=7b6b3e64&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CommonButton.vue?vue&type=style&index=0&id=4edcfbcc&lang=css\"","<template>\n    <the-processor style=\"width: 100%; height: 100%;\"/>\n</template>\n\n<script>\nimport TheProcessor from './components/TheProcessor.vue'\nexport default {\n    name: 'App',\n    components: { TheProcessor }\n}\n</script>\n\n<style>\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    width: 100%;\n    height: 100vh;\n}\n* {\n    margin: 0;\n    box-sizing: border-box;\n}\nbody {\n    margin: 0;\n    overflow: hidden;\n    display: flex;\n\n    border-style: dotted;\n    border-width: 2px;\n\n    background: #3A3A40;\n    color: #D6D6D6;\n}\n\n.horizontal-container {\n    display: flex;\n    flex-direction: row;\n}\n.vertical-container {\n    display: flex;\n    flex-direction: column;\n}\n</style>\n","<!--\n    The main component serving as core/processor of application\n    Communicates with other components and runs simulation\n    Contains application layout, most of general layouting should be done here\n!-->\n\n<template>\n    <div class=\"horizontal-container\">\n        <div class=\"vertical-container control-container\">\n            <div class=\"horizontal-container button-container\">\n                <common-button v-for=\"button in commonButtons\" :key=\"button\" :displayValue=\"button.display\" :function=\"button.function\" :disabled=\"button.disabled\" class=\"control-button\"/>\n            </div>\n            <div class=\"program-container\">\n                <code-editor @RegisterCompiler=\"RegisterCompiler\"/>\n            </div>\n        </div>\n        <div class=\"vertical-container model-container\">\n            <tabs-container @RegisterMemory=\"RegisterMemory\" :instruction=\"instruction.instruction\"/>\n        </div>\n    </div>\n</template>\n\n<script>\nconst s_notStarted = \"notStarted\";\nconst s_started = \"started\";\nconst s_halted = \"halted\";\nconst s_ended = \"ended\"\n\nimport CommonButton from './common/CommonButton.vue';\nimport CodeEditor from './codeEditor/CodeEditor.vue';\nimport TabsContainer from './TabsContainer.vue';\n\nimport Cpu from '@/scripts/Cpu.js';\nimport ExecutionResult from '@/scripts/ExecutionResult.js'\nexport default {\n    name: \"TheLayout\",\n    components: { CommonButton, CodeEditor, TabsContainer },\n\n    data() {\n        return {\n            commonButtons: [\n                { display: \"|>\", function: this.StartProgram, disabled: false },\n                { display: \"|||\", function: this.StopProgram, disabled: true },\n                { display: \"||\", function: this.PauseProgram, disabled: true},\n                { display: \">\", function: this.ExecuteInstruction, disabled: true }\n            ],\n            compiler: null,\n            memory: null,\n            cpu: null,\n            currentState: s_notStarted,\n\n            instructionPointer: 0,\n            accumulator: { value: 0 },\n            instruction: { instruction: \"\" },\n        }\n    },\n\n    methods: {\n        // Simulation control methods\n        async StartProgram() {\n            console.log(\"Start program\");\n\n            // Compile program\n            if (this.currentState == s_ended) {\n                this.ChangeSimulationState(s_notStarted);\n            }\n            if (this.currentState == s_notStarted) {\n                try {\n                    this.compiler.compile();\n                }\n                catch (e) {\n                    console.error(\"Compilation failed\");\n                    return;\n                }\n\n                // Create CPU\n                this.cpu = new Cpu(this.memory, this.accumulator);\n            }\n            this.ChangeSimulationState(s_started);\n\n            // Program loop\n            while (this.currentState == s_started) {\n                this.ExecuteInstruction();\n                await this.Sleep(500);\n            }\n        },\n        StopProgram() {\n            console.log(\"Stop program\");\n            this.ChangeSimulationState(s_notStarted);\n        },\n        PauseProgram() {\n            console.log(\"Pause program\");\n            this.ChangeSimulationState(s_halted);\n        },\n        ExecuteInstruction() {\n            try {\n                this.instruction = this.compiler.getInstruction(this.instructionPointer);\n                var result = this.cpu.execute(this.instruction);\n\n                console.log(this.instruction);\n\n                // Process result\n                if (result.result == ExecutionResult.NextInstruction) {\n                    this.instructionPointer++;\n                }\n                else if (result.result == ExecutionResult.MoveToLabel) {\n                    this.instructionPointer = this.compiler.getLabel(result.label) + 1;\n                }\n                else if (result.result == ExecutionResult.MoveToAddress) {\n                    this.instructionPointer = result.address;\n                }\n                else if (result.result == ExecutionResult.HaltExecution) {\n                    console.log(\"Program halted\");\n                    this.instructionPointer++;\n                    this.ChangeSimulationState(s_halted);\n                }\n                else if (result.result == ExecutionResult.EndExecution) {\n                    console.log(\"Program end\");\n                    this.ChangeSimulationState(s_ended);\n                }\n            }\n            catch (e) {\n                console.error(\"Execution failed\");\n                this.ChangeSimulationState(s_ended);\n            }\n        },\n\n        // Component registration methods\n        RegisterCompiler(compiler) {\n            this.compiler = compiler;\n        },\n        RegisterMemory(memory) {\n            this.memory = memory;\n        },\n\n        // Other methods\n        ChangeSimulationState(state) {\n            switch (state) {\n                case s_notStarted:\n                    this.commonButtons[0].disabled = false;\n                    this.commonButtons[1].disabled = true;\n                    this.commonButtons[2].disabled = true;\n                    this.commonButtons[3].disabled = true;\n                    this.ResetState();\n                    break;\n\n                case s_started:\n                    this.commonButtons[0].disabled = true;\n                    this.commonButtons[1].disabled = false;\n                    this.commonButtons[2].disabled = false;\n                    this.commonButtons[3].disabled = true;\n                    break;\n\n                case s_halted:\n                    this.commonButtons[0].disabled = false;\n                    this.commonButtons[1].disabled = false;\n                    this.commonButtons[2].disabled = true;\n                    this.commonButtons[3].disabled = false;\n                    break;\n\n                case s_ended:\n                    this.commonButtons[0].disabled = false;\n                    this.commonButtons[1].disabled = true;\n                    this.commonButtons[2].disabled = true;\n                    this.commonButtons[3].disabled = true;\n                    break;\n            }\n\n            this.currentState = state;\n        },\n        Sleep(ms) {\n            return new Promise((resolve) => {\n                setTimeout(resolve, ms);\n            });\n        },\n        ResetState() {\n            this.instructionPointer = 0;\n            this.accumulator = { value: 0 };\n            this.instruction = { instruction: \"\" };\n            this.memory.reset();\n        }\n    }\n}\n</script>\n\n<style>\n.control-container {\n    width: 30%;\n    height: 100%;\n}\n.button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: 10%;\n\n    background: red;\n}\n.program-container {\n    width: 100%;\n    height: 90%;\n\n    background: darkslategray;\n}\n.model-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n    width: 70%;\n    height: 100%;\n\n    background: blue;\n}\n\n.control-button {\n    width: 4.5rem;\n    height: 4.5rem;\n    margin: 0.3rem;\n\n    font-size: 3rem;\n    font-weight: bold;\n}\n.test-button {\n    width: 6rem;\n    height: 3rem;\n    margin: 0.2rem;\n    background: black;\n}\n</style>","<!--\n    A common button.\n!-->\n\n<template>\n    <button class=\"common-button\" :disabled=\"disabled\" @click=\"Click\">\n        {{ displayValue }}\n    </button>\n</template>\n\n<script>\nexport default {\n    name: \"CommonButton\",\n\n    props: {\n        displayValue: {\n            type: String,\n            required: true,\n        },\n        function: {\n            type: Function,\n            required: true,\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n\n    methods: {\n        Click() {\n            this.function();\n        }\n    }\n}\n</script>\n\n<style>\n.common-button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n    border: 0;\n    box-shadow: none;\n    background: rgb(82, 82, 82);\n    color: inherit;\n\n    cursor: pointer;\n    transition: all .1s ease-in-out;\n}\n.common-button:enabled:hover {\n    transform: scale(1.1);\n}\n.common-button:enabled:active {\n    transform: scale(.90);\n}\n.common-button:disabled {\n    background: rgb(160, 160, 160);\n}\n\n</style>","import { render } from \"./CommonButton.vue?vue&type=template&id=4edcfbcc\"\nimport script from \"./CommonButton.vue?vue&type=script&lang=js\"\nexport * from \"./CommonButton.vue?vue&type=script&lang=js\"\n\nimport \"./CommonButton.vue?vue&type=style&index=0&id=4edcfbcc&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\n    A code editor component\n!-->\n\n<template>\n    <prism-editor class=\"code-editor\" v-model=\"code\" :highlight=\"HighlightCode\" line-numbers />\n</template>\n\n<script>\n// Prism Editor: https://github.com/koca/vue-prism-editor/tree/feature/next\nimport { PrismEditor } from 'vue-prism-editor';\nimport 'vue-prism-editor/dist/prismeditor.min.css';\n// Highlighting library: https://prismjs.com/\nimport Prism from 'prismjs/components/prism-core';\nimport 'prismjs/themes/prism-dark.css'; // TODO: Study and create my own\n\nimport startCompilation from '@/scripts/Compiler.js';\nexport default {\n    name: \"CodeEditor\",\n    components: { PrismEditor },\n    emits: [\"RegisterCompiler\"],\n\n    data() {\n        return {\n            code: \"\",\n            instructionList: [],\n            labelDict: {},\n        }\n    },\n\n    created() {\n        this.$emit(\"RegisterCompiler\", { compile: this.CompileProgram, getInstruction: this.GetInstruction, getLabel: this.GetLabel })\n    },\n\n    methods: {\n        HighlightCode(code) {\n            // TODO: Define all highlighting, move to its own file\n            Prism.languages.bp22 = {\n                'operator': /\\b(?:HALT|NEGATE|ACCDEC|ACCINC|NOP|OUTP|INP|MLOAD|DLOAD|ILOAD|DSTORE|ISTORE|BRANCH|BRZERO|BRPOS|BRNEG|MADD|IJUMP|LABEL)\\b/i,\n            };\n\n            return Prism.highlight(code, Prism.languages.bp22);\n        },\n        \n        CompileProgram() {\n            this.instructionList = [];\n            this.labelDict = {};\n\n            try {\n                startCompilation(this.code, this.instructionList);\n            }\n            catch (e) {\n                // TODO: Show error for user\n                console.error(e);\n                throw e;\n            }\n            \n            // Populate labelDict\n            for (var i in this.instructionList) {\n                if (this.instructionList[i].instruction == \"LABEL\") {\n                    this.labelDict[this.instructionList[i].label] = parseInt(i);\n                }\n            }\n\n            console.log(this.instructionList);\n            console.log(this.labelDict);\n        },\n        GetInstruction(address) {\n            if (address < this.instructionList.length)\n                return this.instructionList[address];\n            else throw RangeError(\"Invalid instruction address\");\n        },\n        GetLabel(label) {\n            if (label in this.labelDict)\n                return this.labelDict[label];\n            else throw RangeError(\"No such label\");\n        }\n    }\n}\n</script>\n\n<style>\n.code-editor {\n    font-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\n    font-size: 14px;\n    line-height: 1.5;\n    padding: 5px;\n}\n.prism-editor__textarea:focus {\n    outline: none;\n}\n</style>","// Class for storing static definitions of instructions\n// Basicaly an enum\n// Source: https://www.sohamkamani.com/javascript/enums/\nexport default class Instruction {\n    static HALT = new Instruction(\"HALT\");\n    static NEGATE = new Instruction(\"NEGATE\");\n    static ACCDEC = new Instruction(\"ACCDEC\");\n    static ACCINC = new Instruction(\"ACCINC\");\n    static NOP = new Instruction(\"NOP\");\n    static OUTP = new Instruction(\"OUTP\");\n    static INP = new Instruction(\"INP\");\n    static MLOAD = new Instruction(\"MLOAD\");\n    static DLOAD = new Instruction(\"DLOAD\");\n    static ILOAD = new Instruction(\"ILOAD\");\n    static DSTORE = new Instruction(\"DSTORE\");\n    static ISTORE = new Instruction(\"ISTORE\");\n    static BRANCH = new Instruction(\"BRANCH\");\n    static BRZERO = new Instruction(\"BRZERO\");\n    static BRPOS = new Instruction(\"BRPOS\");\n    static BRNEG = new Instruction(\"BRNEG\");\n    static MADD = new Instruction(\"MADD\");\n    static IJUMP = new Instruction(\"IJUMP\");\n    static LABEL = new Instruction(\"LABEL\");\n\n    constructor (name) {\n        this.name = name\n    }\n}","// Methods for compiling assembly code in code editor\n\nimport Instruction from \"./Instruction\";\n\nlet instructionNumber = 0;\n\n// Starts compilation of `code`, resulting internal code is stored in `instructionList`\n// Returns result object\nexport default function startCompilation(code, instructionList) {\n    var codeList = code.split(/\\s+/);\n    instructionNumber = 0;\n\n    // Compilation loop\n    while (codeList.length > 0) {\n        processInstruction(codeList, instructionList);\n    }\n    // Program end instruction\n    instructionList.push({ instruction: \"END\" });\n}\n\n// Instruction switch\nfunction processInstruction(codeList, instructionList) {\n    var instruction = codeList.shift();\n    instructionNumber++;\n\n    switch (instruction.toUpperCase()) {\n        case Instruction.HALT.name:\n            processParameterlessInstruction(Instruction.HALT.name, instructionList);\n            break;\n\n        case Instruction.NEGATE.name:\n            processParameterlessInstruction(Instruction.NEGATE.name, instructionList);\n            break;\n\n        case Instruction.ACCDEC.name:\n            processParameterlessInstruction(Instruction.ACCDEC.name, instructionList);\n            break;\n\n        case Instruction.ACCINC.name:\n            processParameterlessInstruction(Instruction.ACCINC.name, instructionList);\n            break;\n\n        case Instruction.NOP.name:\n            processParameterlessInstruction(Instruction.NOP.name, instructionList);\n            break;\n\n        case Instruction.OUTP.name:\n            processAddressInstrution(Instruction.OUTP.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.INP.name:\n            processAddressInstrution(Instruction.INP.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.MLOAD.name:\n            processValueInstruction(Instruction.MLOAD.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.DLOAD.name:\n            processAddressInstrution(Instruction.DLOAD.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.ILOAD.name:\n            processAddressInstrution(Instruction.ILOAD.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.DSTORE.name:\n            processAddressInstrution(Instruction.DSTORE.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.ISTORE.name:\n            processAddressInstrution(Instruction.ISTORE.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.BRANCH.name:\n            processLabelInstruction(Instruction.BRANCH.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.BRZERO.name:\n            processLabelInstruction(Instruction.BRZERO.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.BRPOS.name:\n            processLabelInstruction(Instruction.BRPOS.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.BRNEG.name:\n            processLabelInstruction(Instruction.BRNEG.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.MADD.name:\n            processAddressInstrution(Instruction.MADD.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.IJUMP.name:\n            processAddressInstrution(Instruction.IJUMP.name, codeList.shift(), instructionList);\n            break;\n\n        case Instruction.LABEL.name:\n            processLabelInstruction(Instruction.LABEL.name, codeList.shift(), instructionList);\n            break;\n\n        // Skip empty strings\n        case \"\":\n            break;\n\n        default:\n            throw Error(\"Unknown instruction at \" + instructionNumber);\n    }\n}\n\n// Processes instruction with no parameters\n// Returns result object\nfunction processParameterlessInstruction(instruction, instructionList) {\n    instructionList.push({ instruction: instruction });\n}\n\n// Processes instruction with address parameter\n// Returns result object\nfunction processAddressInstrution(instruction, parameter, instructionList) {\n    // Check if address\n    if (isAddress(parameter)) {\n        parameter = parseInt(parameter.substring(1));\n        instructionList.push({ instruction: instruction, address: parameter });\n    }\n    else\n        throw Error(\"Incorrect parameter format at instruction \" + instructionNumber + \" (\" + instruction + \")\");\n}\n\n// Processes instruction with value parameter\n// Returns result object\nfunction processValueInstruction(instruction, parameter, instructionList) {\n    // Check if value\n    if (isNumber(parameter)) {\n        parameter = parseInt(parameter);\n        instructionList.push({ instruction: instruction, value: parameter });\n    }\n    else\n        throw Error(\"Incorrect parameter format at instruction \" + instructionNumber + \" (\" + instruction + \")\");\n}\n\n// Processes instruction with label parameter\n// Returns result object\nfunction processLabelInstruction(instruction, parameter, instructionList) {\n    // Check if not instruction keyword\n    if (!isKeyword(parameter)) {\n        instructionList.push({ instruction: instruction, label: parameter })\n    }\n    else\n        throw Error(\"Label must not be keyword at instruction \" + instructionNumber + \" (\" + instruction + \")\");\n}\n\n// Checks if string is syntax valid address\nfunction isAddress(str) {\n    var result = str.startsWith(\"@\");\n    if (result) {\n        str = str.substring(1);\n        result = isNumber(str);\n    }\n    return result\n}\n\n// Check if string is instruction keyword\nfunction isKeyword(str) {\n    var result = false;\n    Object.keys(Instruction).forEach(instruction => {\n        if (instruction === str.toUpperCase()) result = true;\n    });\n    return result;\n}\n\n// Check is string is number\n// Source: https://stackoverflow.com/questions/1779013/check-if-string-contains-only-digits\nfunction isNumber(str) {\n    return /^-?\\d+$/.test(str);\n}","import { render } from \"./CodeEditor.vue?vue&type=template&id=6cabe3da\"\nimport script from \"./CodeEditor.vue?vue&type=script&lang=js\"\nexport * from \"./CodeEditor.vue?vue&type=script&lang=js\"\n\nimport \"./CodeEditor.vue?vue&type=style&index=0&id=6cabe3da&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\n    A tab container component\n!-->\n\n<template>\n    <div class=\"horizontal-container\">\n        <common-button :displayValue=\"'RAM-Only Memory'\" :function=\"() => ChangeCurrentTab('RamOnlyMemory')\"/>\n        <common-button :displayValue=\"'Direct Cache'\" :function=\"() => ChangeCurrentTab('DirectCacheMemory')\"/>\n        <common-button :displayValue=\"'Two-Way Cache'\" :function=\"() => ChangeCurrentTab('TwoWayCacheMemory')\"/>\n        <common-button :displayValue=\"'Full Cache'\" :function=\"() => ChangeCurrentTab('FullCacheMemory')\"/>\n    </div>\n    <component :is=\"currentTab\" @RegisterMemory=\"RegisterMemory\" :instruction=\"instruction\"/>\n</template>\n\n<script>\nimport CommonButton from './common/CommonButton.vue';\nimport RamOnlyMemory from './memory/RamOnlyMemory.vue';\nimport DirectCacheMemory from './memory/DirectCacheMemory.vue';\nimport TwoWayCacheMemory from './memory/TwoWayCacheMemory.vue';\nimport FullCacheMemory from './memory/FullCacheMemory.vue'\nexport default {\n    name: \"TabsContainer\",\n    components: { CommonButton, RamOnlyMemory, DirectCacheMemory, TwoWayCacheMemory, FullCacheMemory },\n    emits: [\"RegisterMemory\"],\n\n    props: {\n        instruction: { type: String }\n    },\n\n    data() {\n        return {\n            currentTab: \"RamOnlyMemory\"\n        }\n    },\n\n    methods: {\n        ChangeCurrentTab(tab) {\n            this.currentTab = tab;\n        },\n        RegisterMemory(memory) {\n            this.$emit(\"RegisterMemory\", memory);\n        }\n    }\n}\n</script>","<!--\n    RAM-only memory component, contains no cache\n    Primarily for reference and testing purposes\n!-->\n\n<template>\n    <processor-model :currentInstruction=\"instruction\"/>\n    <ram-model :data=\"ramData\" />\n</template>\n\n<script>\nimport ProcessorModel from '../model/ProcessorModel.vue';\nimport RamModel from '../model/RamModel.vue';\nexport default {\n    name: \"RamOnlyMemory\",\n    components: { ProcessorModel, RamModel },\n    emits: [\"RegisterMemory\"],\n\n    props: {\n        instruction: { type: String }\n    },\n\n    data() {\n        return {\n            ramData: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        }\n    },\n\n    created() {\n        this.Reset();\n        this.$emit(\"RegisterMemory\", { write: this.Write, read: this.Read, flush: () => {}, reset: this.Reset });\n    },\n\n    methods: {\n        Write(address, data) {\n            if (address < this.ramData.length && address >= 0)\n                this.ramData[address] = data;\n            else throw RangeError(\"Invalid memory address\")\n        },\n        Read(address) {\n            if (address < this.ramData.length && address >= 0)\n                return this.ramData[address];\n            else throw RangeError(\"Invalid memory address\")\n        },\n        Reset() {\n            this.ramData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        }\n    }\n}\n</script>\n","<!--\n    Visual only component for processor\n!-->\n\n<template>\n    <div class=\"vertical-container processor\">\n        <div>CPU</div>\n        <div>[ {{ currentInstruction }} ]</div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"ProcessorModel\",\n    props: {\n        currentInstruction: { type: String, default: \"\" }\n    }\n}\n</script>\n\n<style>\n.processor {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    width: 27%;\n    height: 15%;\n\n    background: red;\n}\n</style>","import { render } from \"./ProcessorModel.vue?vue&type=template&id=346fe9cf\"\nimport script from \"./ProcessorModel.vue?vue&type=script&lang=js\"\nexport * from \"./ProcessorModel.vue?vue&type=script&lang=js\"\n\nimport \"./ProcessorModel.vue?vue&type=style&index=0&id=346fe9cf&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\n    Visual-only component for RAM memory\n!-->\n\n<template>\n    <table class=\"ram\">\n        <tr v-for=\"n in data.length\" :key=\"n\">\n            <td class=\"ram-address\"> {{ \"0x\" + (n - 1).toString(16).toUpperCase() }} </td>\n            <td class=\"ram-value\"> {{ data[n - 1] }} </td>\n        </tr>\n    </table>\n</template>\n\n<script>\nexport default {\n    name: \"RamModel\",\n\n    props: {\n        data: { type: Array, required: true }\n    }\n}\n</script>\n\n<style>\n.ram {\n    border: solid 2px;\n    border-collapse: collapse;\n\n    background: dimgray;\n}\n.ram td {\n    border: solid 2px;\n}\n\n.ram-address {\n    width: 3rem;\n    text-align: center;\n}\n.ram-value {\n    width: 6rem;\n    padding-left: 0.2rem;\n}\n</style>","import { render } from \"./RamModel.vue?vue&type=template&id=40c05eec\"\nimport script from \"./RamModel.vue?vue&type=script&lang=js\"\nexport * from \"./RamModel.vue?vue&type=script&lang=js\"\n\nimport \"./RamModel.vue?vue&type=style&index=0&id=40c05eec&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./RamOnlyMemory.vue?vue&type=template&id=6cbb72b8\"\nimport script from \"./RamOnlyMemory.vue?vue&type=script&lang=js\"\nexport * from \"./RamOnlyMemory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\n    Direct cache memory component\n!-->\n\n<template>\n    <processor-model :currentInstruction=\"instruction\"/>\n    <cache-model :data=\"cacheData\" />\n    <ram-model :data=\"ramData\" />\n</template>\n\n<script>\nimport ProcessorModel from '../model/ProcessorModel.vue';\nimport RamModel from '../model/RamModel.vue';\nimport CacheModel from '../model/CacheModel.vue';\nimport { ReadRam, GetRamAddressFromCache, UpdateCache } from '@/scripts/MemoryUtils.js';\nexport default {\n    name: \"DirectCacheMemory\",\n    components: { ProcessorModel, RamModel, CacheModel },\n    emits: [\"RegisterMemory\"],\n\n    props: {\n        instruction: { type: String }\n    },\n\n    data() {\n        return {\n            ramData: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            cacheData: [{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}]\n        }\n    },\n\n    created() {\n        this.Reset();\n        this.$emit(\"RegisterMemory\", { write: this.Write, read: this.Read, flush: this.Flush, reset: this.Reset });\n    },\n\n    methods: {\n        Write(address, data) {\n            if (address > this.ramData.length || address < 0)\n                throw RangeError(\"Invalid memory address\");\n\n            var cacheAddress = address & 0b11;\n            var cacheTag = (address & 0b1100) >> 2;\n\n            // TODO: Data koherence, currently using valid-bit\n            // Memory block is in cache\n            if (this.cacheData[cacheAddress].tag == cacheTag) {\n                this.cacheData[cacheAddress] = UpdateCache(cacheTag, data);\n            }\n            // Not in cache\n            else {\n                // Current memory block valid - can overwrite\n                if (this.cacheData[cacheAddress].valid) {\n                    this.cacheData[cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                    this.cacheData[cacheAddress] = UpdateCache(cacheTag, data);\n                }\n                // Current memory block not valid - must save\n                else {\n                    var ramAddress = GetRamAddressFromCache(cacheAddress, this.cacheData[cacheAddress].tag, 2);\n                    this.ramData[ramAddress] = this.cacheData[cacheAddress].data;\n\n                    this.cacheData[cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                    this.cacheData[cacheAddress] = UpdateCache(cacheTag, data);\n                }\n            }\n        },\n        Read(address) {\n            if (address > this.ramData.length || address < 0)\n                throw RangeError(\"Invalid memory address\");\n\n            var cacheAddress = address & 0b11;\n            var cacheTag = (address & 0b1100) >> 2;\n\n            // Check in cache\n            if (this.cacheData[cacheAddress].tag == cacheTag) {\n                return this.cacheData[cacheAddress].data;\n            }\n            // Not in cache\n            else {\n                // Current memory block valid - can overwrite\n                if (this.cacheData[cacheAddress].valid) {\n                    this.cacheData[cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                    return this.cacheData[cacheAddress].data;\n                }\n                // Current memory block not valid - must save\n                else {\n                    var ramAddress = GetRamAddressFromCache(cacheAddress, this.cacheData[cacheAddress].tag, 2);\n                    this.ramData[ramAddress] = this.cacheData[cacheAddress].data;\n\n                    this.cacheData[cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                    return this.cacheData[cacheAddress].data;\n                }\n            }\n        },\n        Flush() {\n            for (var i = 0; i < this.cacheData.length; i++) {\n                var address = GetRamAddressFromCache(i, this.cacheData[i].tag, 2);\n                this.ramData[address] = this.cacheData[i].data;\n                this.cacheData[i].valid = true;\n            }\n        },\n        Reset() {\n            this.ramData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n            this.cacheData = [{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}];\n        }\n    }\n}\n</script>\n","<!--\n    Visual-only component for cache\n!-->\n\n<template>\n    <table class=\"cache\">\n        <tr v-for=\"n in data.length\" :key=\"n\">\n            <td class=\"cache-address\"> {{ \"0x\" + (n - 1).toString(16).toUpperCase() }} </td>\n            <td class=\"cache-valid\"> {{ data[n - 1].valid ? \"T\" : \"F\" }} </td>\n            <td class=\"cache-tag\"> {{ \"0x\" + data[n - 1].tag.toString(16).toUpperCase() }} </td>\n            <td class=\"cache-value\"> {{ data[n - 1].data }} </td>\n        </tr>\n    </table>\n</template>\n\n<script>\nexport default {\n    name: \"CacheModel\",\n\n    props: {\n        data: { type: Array, required: true }\n    }\n}\n</script>\n\n<style>\n.cache {\n    border: solid 2px;\n    border-collapse: collapse;\n\n    background: dimgray;\n}\n.cache td {\n    border: solid 2px;\n}\n\n.cache-address {\n    width: 3rem;\n    text-align: center;\n}\n.cache-valid {\n    width: 2rem;\n    text-align: center;\n}\n.cache-tag {\n    width: 3rem;\n    text-align: center;\n}\n.cache-value {\n    width: 6rem;\n    padding-left: 0.2rem;\n}\n</style>","import { render } from \"./CacheModel.vue?vue&type=template&id=5f95d258\"\nimport script from \"./CacheModel.vue?vue&type=script&lang=js\"\nexport * from \"./CacheModel.vue?vue&type=script&lang=js\"\n\nimport \"./CacheModel.vue?vue&type=style&index=0&id=5f95d258&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Helper functions for memory\n\n// Return cache structure loaded with ram data\n// Mostly for making the code look better\nexport function ReadRam(tag, data) {\n    return { valid: true, tag: tag, data: data };\n}\n\n// Return ram address from cache address and tag\nexport function GetRamAddressFromCache(address, tag, offset) {\n    return (tag << offset) | address;\n}\n\n// Update cache content\nexport function UpdateCache(tag, data) {\n    return { valid: false, tag: tag, data: data };\n}","import { render } from \"./DirectCacheMemory.vue?vue&type=template&id=54e7c236\"\nimport script from \"./DirectCacheMemory.vue?vue&type=script&lang=js\"\nexport * from \"./DirectCacheMemory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\n    Two-way cache memory component\n!-->\n\n<template>\n    <processor-model :currentInstruction=\"instruction\"/>\n    <div class=\"horizontal-container\">\n        <cache-model :data=\"cacheData[0]\" />\n        <cache-model :data=\"cacheData[1]\" />\n    </div>\n    <ram-model :data=\"ramData\" />\n</template>\n\n<script>\nimport ProcessorModel from '../model/ProcessorModel.vue';\nimport CacheModel from '../model/CacheModel.vue';\nimport RamModel from '../model/RamModel.vue'\nimport { ReadRam, GetRamAddressFromCache, UpdateCache } from '@/scripts/MemoryUtils.js';\nexport default {\n    name: \"TwoWayCacheMemory\",\n    components: { ProcessorModel, CacheModel, RamModel },\n    emits: [\"RegisterMemory\"],\n\n    props: {\n        instruction: { type: String }\n    },\n\n    data() {\n        return {\n            ramData: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            cacheData: [[{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}], [{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}]]\n        }\n    },\n\n    created() {\n        this.Reset();\n        this.$emit(\"RegisterMemory\", { write: this.Write, read: this.Read, flush: this.Flush, reset: this.Reset });\n    },\n\n    methods: {\n        Write(address, data) {\n            if (address > this.ramData.length || address < 0)\n                throw RangeError(\"Invalid memory address\");\n\n            var cacheAddress = address & 0b01;\n            var cacheTag = (address & 0b1110) >> 1;\n\n            // TODO: Data koherence, currently using valid-bit\n            // Memory block is in cache\n            for (var i = 0; i < this.cacheData.length; i++) {\n                if (this.cacheData[i][cacheAddress].tag == cacheTag) {\n                    this.cacheData[i][cacheAddress] = UpdateCache(cacheTag, data);\n                    return;\n                }\n            }\n\n            // Not in cache\n            // TODO: Selection of victim, currently random\n            var id = Math.random() < 0.5 ? 0 : 1;\n            // Current memory block valid - can overwrite\n            if (this.cacheData[id][cacheAddress].valid) {\n                this.cacheData[id][cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                this.cacheData[id][cacheAddress] = UpdateCache(cacheTag, data);\n            }\n            // Current memory block not valid - must save\n            else {\n                var ramAddress = GetRamAddressFromCache(cacheAddress, this.cacheData[id][cacheAddress].tag, 1);\n                this.ramData[ramAddress] = this.cacheData[id][cacheAddress].data;\n\n                this.cacheData[id][cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                this.cacheData[id][cacheAddress] = UpdateCache(cacheTag, data);\n            }\n        },\n        Read(address) {\n            if (address > this.ramData.length || address < 0)\n                throw RangeError(\"Invalid memory address\");\n\n            var cacheAddress = address & 0b1;\n            var cacheTag = (address & 0b1110) >> 1;\n\n            // Check in cache\n            for (var i = 0; i < this.cacheData.length; i++) {\n                if (this.cacheData[i][cacheAddress].tag == cacheTag) {\n                    return this.cacheData[i][cacheAddress].data;\n                }\n            }\n\n            // Not in cache\n            // TODO: Selection of victim, currently random\n            var id = Math.random() < 0.5 ? 0 : 1;\n            // Current memory block valid - can overwrite\n            if (this.cacheData[id][cacheAddress].valid) {\n                this.cacheData[id][cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                return this.cacheData[id][cacheAddress].data;\n            }\n            // Current memory block not valid - must save\n            else {\n                var ramAddress = GetRamAddressFromCache(cacheAddress, this.cacheData[id][cacheAddress].tag, 1);\n                this.ramData[ramAddress] = this.cacheData[id][cacheAddress].data\n\n                this.cacheData[id][cacheAddress] = ReadRam(cacheTag, this.ramData[address]);\n                return this.cacheData[id][cacheAddress].data;\n            }\n        },\n        Flush() {\n            for (var i = 0; i < this.cacheData.length; i++) {\n                for (var j = 0; j < this.cacheData[i].length; j++) {\n                    var address = GetRamAddressFromCache(j, this.cacheData[i][j].tag, 1);\n                    this.ramData[address] = this.cacheData[i][j].data;\n                    this.cacheData[i][j].valid = true;\n                }\n            }\n        },\n        Reset() {\n            this.ramData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n            this.cacheData = [[{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}], [{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}]]\n        }\n    }\n}\n</script>","import { render } from \"./TwoWayCacheMemory.vue?vue&type=template&id=0057e1ac\"\nimport script from \"./TwoWayCacheMemory.vue?vue&type=script&lang=js\"\nexport * from \"./TwoWayCacheMemory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\n    Fully associative cache memory component\n!-->\n\n<template>\n    <processor-model :currentInstruction=\"instruction\"/>\n    <cache-model :data=\"cacheData\" />\n    <ram-model :data=\"ramData\" />\n</template>\n\n<script>\nimport ProcessorModel from '../model/ProcessorModel.vue';\nimport CacheModel from '../model/CacheModel.vue';\nimport RamModel from '../model/RamModel.vue'\nimport { ReadRam, UpdateCache } from '@/scripts/MemoryUtils.js';\nexport default {\n    name: \"FullCacheMemory\",\n    components: { ProcessorModel, CacheModel, RamModel },\n    emits: [\"RegisterMemory\"],\n\n    props: {\n        instruction: { type: String }\n    },\n\n    data() {\n        return {\n            ramData: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            cacheData: [{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}]\n        }\n    },\n\n    created() {\n        this.Reset();\n        this.$emit(\"RegisterMemory\", { write: this.Write, read: this.Read, flush: this.Flush, reset: this.Reset });\n    },\n\n    methods: {\n        Write(address, data) {\n            if (address > this.ramData.length || address < 0)\n                throw RangeError(\"Invalid memory address\");\n\n            // TODO: Data koherence, currently using valid-bit\n            // Memory block is in cache\n            for (var i = 0; i < this.cacheData.length; i++) {\n                if (this.cacheData[i].tag == address) {\n                    this.cacheData[i] = UpdateCache(address, data);\n                    return;\n                }\n            }\n\n            // Not in cache\n            // TODO: Selection of victim, currently random\n            var id = Math.floor(Math.random() * 4);\n            // Current memory block valid - can overwrite\n            if (this.cacheData[id].valid) {\n                this.cacheData[id] = ReadRam(address, this.ramData[address]);\n                this.cacheData[id] = UpdateCache(address, data);\n            }\n            // Current memory block not valid - must save\n            else {\n                this.ramData[this.cacheData[id].tag] = this.cacheData[id].data;\n\n                this.cacheData[id] = ReadRam(address, this.ramData[address]);\n                this.cacheData[id] = UpdateCache(address, data);\n            }\n        },\n        Read(address) {\n            if (address > this.ramData.length || address < 0)\n                throw RangeError(\"Invalid memory address\");\n\n            // Check in cache\n            for (var i = 0; i < this.cacheData.length; i++) {\n                if (this.cacheData[i].tag == address) {\n                    return this.cacheData[i].data;\n                }\n            }\n\n            // Not in cache\n            // TODO: Selection of victim, currently random\n            var id = Math.floor(Math.random() * 4);\n            // Current memory block valid - can ovewrite\n            if (this.cacheData[id].valid) {\n                this.cacheData[id] = ReadRam(address, this.ramData[address]);\n                return this.cacheData[id].data;\n            }\n            // Current memory block not valid - must save\n            else {\n                this.ramData[this.cacheData[id].tag] = this.cacheData[id].data;\n\n                this.cacheData[id] = ReadRam(address, this.ramData[address]);\n                return this.cacheData[id].data;\n            }\n        },\n        Flush() {\n            for (var i = 0; i < this.cacheData.length; i++) {\n                this.ramData[this.cacheData[i].tag] = this.cacheData[i].data;\n                this.cacheData[i].valid = true;\n            }\n        },\n        Reset() {\n            this.ramData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n            this.cacheData = [{valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}, {valid: true, tag: 0, data: 0}];\n        }\n    }\n}\n</script>","import { render } from \"./FullCacheMemory.vue?vue&type=template&id=41f4a2b8\"\nimport script from \"./FullCacheMemory.vue?vue&type=script&lang=js\"\nexport * from \"./FullCacheMemory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabsContainer.vue?vue&type=template&id=4ebb82b0\"\nimport script from \"./TabsContainer.vue?vue&type=script&lang=js\"\nexport * from \"./TabsContainer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Class for storing static definitions of instruction execution result\n// Basicaly an enum\n// Source: https://www.sohamkamani.com/javascript/enums/\nexport default class ExecutionResult {\n    static NextInstruction = new ExecutionResult(\"NextInstruction\");\n    static HaltExecution = new ExecutionResult(\"HaltExecution\");\n    static EndExecution = new ExecutionResult(\"EndExecution\");\n    static MoveToLabel = new ExecutionResult(\"MoveToLabel\");\n    static MoveToAddress = new ExecutionResult(\"MoveToAddress\");\n\n    constructor (name) {\n        this.name = name\n    }\n}","// Class implementing assembler processor\n\nimport Instruction from \"./Instruction.js\";\nimport ExecutionResult from \"./ExecutionResult.js\";\n\nexport default class Cpu {\n    constructor(memory, acc) {\n        this.memory = memory;\n        this.acc = acc;\n    }\n\n    // Executes instruction\n    // Return result object\n    execute(instruction) {\n        var result;\n        \n        switch (instruction.instruction) {\n            case Instruction.HALT.name:\n                result = this._executeHalt();\n                break;\n    \n            case Instruction.NEGATE.name:\n                result = this._executeNegate();\n                break;\n    \n            case Instruction.ACCDEC.name:\n                result = this._executeAccdec();\n                break;\n    \n            case Instruction.ACCINC.name:\n                result = this._executeAccinc();\n                break;\n    \n            case Instruction.NOP.name:\n                result = this._executeNop();\n                break;\n    \n            case Instruction.OUTP.name:\n                result = this._executeOutp();\n                break;\n    \n            case Instruction.INP.name:\n                result = this._executeInp();\n                break;\n    \n            case Instruction.MLOAD.name:\n                result = this._executeMload(instruction.value);\n                break;\n    \n            case Instruction.DLOAD.name:\n                result = this._executeDload(instruction.address);\n                break;\n    \n            case Instruction.ILOAD.name:\n                result = this._executeIload(instruction.address);\n                break;\n    \n            case Instruction.DSTORE.name:\n                result = this._executeDstore(instruction.address);\n                break;\n    \n            case Instruction.ISTORE.name:\n                result = this._executeIstore(instruction.address);\n                break;\n    \n            case Instruction.BRANCH.name:\n                result = this._executeBranch(instruction.label);\n                break;\n    \n            case Instruction.BRZERO.name:\n                result = this._executeBrzero(instruction.label);\n                break;\n    \n            case Instruction.BRPOS.name:\n                result = this._executeBrpos(instruction.label);\n                break;\n    \n            case Instruction.BRNEG.name:\n                result = this._executeBrneg(instruction.label);\n                break;\n    \n            case Instruction.MADD.name:\n                result = this._executeMadd(instruction.address);\n                break;\n    \n            case Instruction.IJUMP.name:\n                result = this._executeIjump(instruction.address);\n                break;\n    \n            case Instruction.LABEL.name:\n                result = this._executeLabel();\n                break;\n\n            // Special program end instruction\n            case \"END\":\n                result = this._endExecution();\n                break;\n    \n            default:\n                throw Error(\"Unknown instruction\");\n        }\n    \n        return result;\n    }\n\n    // Execute HALT instruction\n    _executeHalt() {\n        return { result: ExecutionResult.HaltExecution };\n    }\n\n    // Execute NEGATE instruction\n    _executeNegate() {\n        this.acc.value = -this.acc.value;\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute ACCDEC instruction\n    _executeAccdec() {\n        this.acc.value -= 1;\n        return { result: ExecutionResult.NextInstruction };\n    }\n    \n    // Execute ACCINC instruction\n    _executeAccinc() {\n        this.acc.value += 1;\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute NOP instruction\n    _executeNop() {\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute OUTP instruction\n    _executeOutp() {\n        // TODO\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute INP instruction\n    _executeInp() {\n        // TODO\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute MLOAD instruction\n    _executeMload(value) {\n        this.acc.value = value;\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute DLOAD instruction\n    _executeDload(address) {\n        this.acc.value = this.memory.read(address);\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute ILOAD instruction\n    _executeIload(address) {\n        var valueAddress = this.memory.read(address);\n        this.acc.value = this.memory.read(valueAddress);\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute DSTORE instruction\n    _executeDstore(address) {\n        this.memory.write(address, this.acc.value);\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute ISTORE instruction\n    _executeIstore(address) {\n        var valueAddress = this.memory.read(address);\n        this.memory.write(valueAddress, this.acc.value);\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute BRANCH instruction\n    _executeBranch(label) {\n        return { result: ExecutionResult.MoveToLabel, label: label };\n    }\n\n    // Execute BRZERO instruction\n    _executeBrzero(label) {\n        if (this.acc.value == 0)\n            return { result: ExecutionResult.MoveToLabel, label: label };\n        else\n            return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute BRPOS instruction\n    _executeBrpos(label) {\n        if (this.acc.value > 0)\n            return { result: ExecutionResult.MoveToLabel, label: label };\n        else\n            return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute BRNEG instruction\n    _executeBrneg(label) {\n        if (this.acc.value < 0)\n            return { result: ExecutionResult.MoveToLabel, label: label };\n        else\n            return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute MADD instruction\n    _executeMadd(address) {\n        this.acc.value += this.memory.read(address);\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // Execute IJUMP instruction\n    _executeIjump(address) {\n        var ip = this.memory.read(address);\n        return { result: ExecutionResult.MoveToAddress, address: ip };\n    }\n\n    // Execute LABEL instruction\n    _executeLabel() {\n        return { result: ExecutionResult.NextInstruction };\n    }\n\n    // End program execution\n    _endExecution() {\n        this.memory.flush();\n        return { result: ExecutionResult.EndExecution };\n    }\n}","import { render } from \"./TheProcessor.vue?vue&type=template&id=14063a6b\"\nimport script from \"./TheProcessor.vue?vue&type=script&lang=js\"\nexport * from \"./TheProcessor.vue?vue&type=script&lang=js\"\n\nimport \"./TheProcessor.vue?vue&type=style&index=0&id=14063a6b&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=7b6b3e64\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=7b6b3e64&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bp22_cpu_perina/bp22_cpu_perina/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RamModel.vue?vue&type=style&index=0&id=40c05eec&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CacheModel.vue?vue&type=style&index=0&id=5f95d258&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CodeEditor.vue?vue&type=style&index=0&id=6cabe3da&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ProcessorModel.vue?vue&type=style&index=0&id=346fe9cf&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TheProcessor.vue?vue&type=style&index=0&id=14063a6b&lang=css\""],"sourceRoot":""}